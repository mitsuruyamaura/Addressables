# Actionå ãªã‚“ã§ã‚‚ã„ã„ãŒã‚ã‹ã‚Šã‚„ã™ã„ã»ã†ãŒè‰¯ã„
name: Acquire activation file

# ã“ã®Actionsã‚’å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®æŒ‡å®š
on:
  workflow_dispatch: # ã“ã®æŒ‡å®šã‚’ã™ã‚‹ã“ã¨ã§ã€æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½ã«ã™ã‚‹

# Unity ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹èªè¨¼
jobs:
  activation:
    name: Request manual activation file
    runs-on: ubuntu-latest # GitHub Actions ãŒã‚¯ãƒ©ã‚¦ãƒ‰ã§å‹•ä½œã™ã‚‹OSã‚’æŒ‡å®š ubuntuä»¥å¤–ã«windowsã‚„mac-osãŒé¸ã¹ã‚‹ãŒèª²é‡‘ä½“ç³»ã«æ³¨æ„ï¼
    steps:
    - name: ğŸ›  Checkout repository
      uses: actions/checkout@v4
        
    - name: ğŸ”‘ Unity License Activation
      uses: game-ci/unity-activate@v2
      with:
        unityVersion: 6000.0.32f1   # ä½¿ç”¨ã™ã‚‹Unityã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š
        activationFile: ${{ secrets.UNITY_LICENSE }}  # GitHub Secrets ã«ç™»éŒ²ã—ãŸãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±
      
    - name: Expose as artifact #å–å¾—ã—ãŸ.alfãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹éƒ¨åˆ†
      uses: actions/upload-artifact@v4  # âœ… v4 ã«æ›´æ–°
      with:
        name: unity-license-request
        path: ${{ steps.getManualLicenseFile.outputs.filePath }}
